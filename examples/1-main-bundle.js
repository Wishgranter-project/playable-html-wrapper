!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var i=n(1);function r(e){var t=document.createElement("p");t.innerHTML=e,window.logWindow.append(t)}document.addEventListener("DOMContentLoaded",function(){window.mediaPlayer=document.getElementById("media-player"),window.currentTime=document.getElementById("current-time"),window.remainingTime=document.getElementById("remaining-time"),window.progressBar=document.getElementById("progress-bar"),window.logWindow=document.querySelector("#log div"),window.player=new i,window.player.onPlay=function(){r("Play")},window.player.onPause=function(){r("Pause")},window.player.onEnded=function(){r("Ended")},window.player.onTimeupdate=function(){window.currentTime.innerHTML=this.formattedCurrentTime,window.remainingTime.innerHTML=this.formattedRemainingTime,window.progressBar.value=this.currentPercentage},window.player.onWaiting=function(){window.mediaPlayer.classList.add("waiting"),r("Waiting")},window.player.onPlaying=function(){window.mediaPlayer.classList.remove("waiting"),r("Playing")},window.player.onError=function(e,t){r(t)},document.getElementById("toggle-play-pause").addEventListener("click",window.player.toggle.bind(window.player)),document.querySelectorAll("#media-list a").forEach(function(e){e.addEventListener("click",function(t){t.preventDefault(),window.player.setData({file:this.attributes.href.value}).then(()=>{window.player.play()}),document.getElementById("title").innerHTML=e.querySelector(":scope .title").innerHTML,document.getElementById("artist").innerHTML=e.querySelector(":scope .artist").innerHTML})}),document.getElementById("progress-bar").addEventListener("click",function(e){var t,n,i;t=e.clientX-this.offsetLeft,n=this.offsetWidth,i=Math.ceil(t/n*100)+"%",window.player.seek(i)}),document.getElementById("volume-slider").addEventListener("change",function(){var e=parseInt(this.value);window.player.setVolume(e)})})},function(e,t,n){var i=n(2);class r extends i{constructor(e=null){super(),this.settings=null==e?this.defaults:{...this.defaults,...e},this.source=null,this.mediaP=this.createMedia(),this.mediaP.addEventListener("play",e=>{this.state.paused=!1,this.state.playing=!0,this.state.waiting=!1,this.onPlay()}),this.mediaP.addEventListener("pause",e=>{this.state.playing=!1,this.state.paused=!0,this.state.reproducing=!1,this.onPause()}),this.mediaP.addEventListener("timeupdate",e=>{this.state.reproducing=!0,this.onTimeupdate()}),this.mediaP.addEventListener("ended",e=>{this.state.playing=!1,this.state.paused=!0,this.state.reproducing=!1,this.state.waiting=!1,this.onEnded()}),this.mediaP.addEventListener("error",e=>{this.onError(0,"Resource could not be loaded")}),this.mediaP.addEventListener("loadstart",e=>{this.state.buffering=!0}),this.mediaP.addEventListener("progress",e=>{this.state.buffering=!0}),this.mediaP.addEventListener("waiting",e=>{this.state.reproducing=!1,this.state.buffering=!0,this.state.waiting=!0,this.onWaiting()}),this.mediaP.addEventListener("playing",e=>{this.state.waiting=!1,this.onPlaying()}),this.mediaP.addEventListener("canplaythrough",e=>{this.state.buffering=!1,this.state.waiting=!1}),this.mediaP.addEventListener("canplay",e=>{this.state.buffering=!1,this.state.waiting=!1}),this.mediaP.addEventListener("suspend",e=>{this.state.buffering=!1}),this.mediaP.addEventListener("abort",e=>{this.state.buffering=!1}),this.mediaP.addEventListener("stalled",e=>{this.state.buffering=!1})}createMedia(){return new Audio}get currentTime(){return this.mediaP.currentTime}get duration(){return this.mediaP.duration}get buffered(){return this.mediaP.buffered}setData(e){return this.data=e,this.newSource(e.file),new Promise((e,t)=>{e()})}play(e=this.currentTime){return this.seek(e),this.mediaP.play()}pause(){this.mediaP.pause()}seek(e){var t=this.sanitizeGetSeconds(e);this.mediaP.currentTime=t}setVolume(e){e>1&&(e/=100),this.mediaP.volume=e}newSource(e){this.pause(),this.source=e,this.mediaP.src=e,this.mediaP.load(),this.state.waiting=!0}}r.prototype.defaults={},e.exports=r},function(e,t,n){"use strict";class i{constructor(){this.state={paused:!1,playing:!1,reproducing:!1,buffering:!1,waiting:!1,ended:!1,volume:100}}get paused(){return this.state.paused}get playing(){return this.state.playing}get buffering(){return this.state.buffering}get reproducing(){return this.state.reproducing}get waiting(){return this.state.waiting}get ended(){return this.state.ended}get volume(){return this.state.volume}get remainingTime(){return this.duration-this.currentTime}get formattedDuration(){return i.secondsToStringRepresentation(this.duration)}get formattedCurrentTime(){return i.secondsToStringRepresentation(this.currentTime)}get formattedRemainingTime(){return i.secondsToStringRepresentation(this.remainingTime)}toggle(){this.playing?this.pause():this.play()}get currentPercentage(){var e,t;return e=Math.round(this.currentTime),t=Math.round(this.duration),isNaN(e)||isNaN(t)?0:0==e||0==t?0:e/t*100}get remainingPercentage(){return 100-this.currentPercentage}getTime(e){return Math.round(this.duration/100*e)}getFormattedTime(e){return i.secondsToStringRepresentation(this.getTime(seconds))}getPercentage(e){return("string"==typeof e&&e.indexOf(":")>=0?i.stringRepresentationToSeconds(e):parseFloat(e))/this.duration*100}sanitizeGetSeconds(e){var t;return t="string"==typeof e&&e.indexOf(":")>=0?i.stringRepresentationToSeconds(e):"string"==typeof e&&e.indexOf("%")>=0?this.getTime(parseInt(e)):"string"==typeof e?parseInt(e):e,isNaN(t)&&(t=0),t}log(e){console.log(e)}onPlay(){}onPause(){}onEnded(){}onTimeupdate(){}onWaiting(){}onPlaying(){}onError(e,t){this.log(t)}}i.secondsToStringRepresentation=function(e){return isNaN(e)?"00:00":(e=Math.round(e),s=(r=(r=(n=Math.floor(e/60))-60*(t=Math.floor(n/60)))<10?"0"+r:r)+":"+(a=(a=e-60*n)<10?"0"+a:a),s=(i=t)>0?i+":"+s:s);var t,n,i,r,a,s},i.stringRepresentationToSeconds=function(e){var t,n,i;return!((t=e.match(/[0-9]+/g)).length>3)&&(i=parseInt(t[t.length-1]),n=parseInt(t[t.length-2]||0),3600*parseInt(t[t.length-3]||0)+60*n+i)},e.exports=i}]);