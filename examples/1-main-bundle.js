!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var i=n(1);function r(e){var t=document.createElement("p");t.innerHTML=e,window.logWindow.append(t)}document.addEventListener("DOMContentLoaded",function(){window.mediaPlayer=document.getElementById("media-player"),window.currentTime=document.getElementById("current-time"),window.remainingTime=document.getElementById("remaining-time"),window.progressBar=document.getElementById("progress-bar"),window.logWindow=document.querySelector("#log div"),window.player=new i,window.player.addEventListener("play",function(){r("Play")}).addEventListener("pause",function(){r("Pause")}).addEventListener("ended",function(){r("Ended")}).addEventListener("timeupdate",function(){window.currentTime.innerHTML=this.formattedCurrentTime,window.remainingTime.innerHTML=this.formattedRemainingTime,window.progressBar.value=this.currentPercentage}).addEventListener("waiting",function(){window.mediaPlayer.classList.add("waiting"),r("Waiting")}).addEventListener("playing",function(){window.mediaPlayer.classList.remove("waiting"),r("Playing")}).addEventListener("error",function(e){r(e.errorMessage)}),document.getElementById("toggle-play-pause").addEventListener("click",window.player.toggle.bind(window.player)),document.querySelectorAll("#media-list a").forEach(function(e){e.addEventListener("click",function(t){t.preventDefault(),window.player.setData({src:this.attributes.href.value}).then(()=>{window.player.play()}),document.getElementById("title").innerHTML=e.querySelector(":scope .title").innerHTML,document.getElementById("artist").innerHTML=e.querySelector(":scope .artist").innerHTML})}),document.getElementById("progress-bar").addEventListener("click",function(e){var t,n,i;t=e.clientX-this.offsetLeft,n=this.offsetWidth,i=Math.ceil(t/n*100)+"%",window.player.seek(i)}),document.getElementById("volume-slider").addEventListener("change",function(){var e=parseInt(this.value);window.player.setVolume(e)})})},function(e,t,n){var i=n(2);class r extends i{constructor(e=null){super(),this.settings=null==e?this.defaults:{...this.defaults,...e},this.source=null,this.mediaP=this.createMedia(),this.mediaP.addEventListener("play",e=>{this.state.paused=!1,this.state.playing=!0,this.state.waiting=!1,this.dispatchEvent("play")}),this.mediaP.addEventListener("pause",e=>{this.state.playing=!1,this.state.paused=!0,this.state.reproducing=!1,this.dispatchEvent("pause")}),this.mediaP.addEventListener("timeupdate",e=>{this.state.reproducing=!0,this.dispatchEvent("timeupdate")}),this.mediaP.addEventListener("ended",e=>{this.state.playing=!1,this.state.paused=!0,this.state.reproducing=!1,this.state.waiting=!1,this.dispatchEvent("ended")}),this.mediaP.addEventListener("error",e=>{this.dispatchEvent("error",{errorCode:0,errorMessage:"Resource could not be loaded"})}),this.mediaP.addEventListener("loadstart",e=>{this.state.buffering=!0}),this.mediaP.addEventListener("progress",e=>{this.state.buffering=!0}),this.mediaP.addEventListener("waiting",e=>{this.state.reproducing=!1,this.state.buffering=!0,this.state.waiting=!0,this.dispatchEvent("waiting")}),this.mediaP.addEventListener("playing",e=>{this.state.waiting=!1,this.dispatchEvent("playing")}),this.mediaP.addEventListener("canplaythrough",e=>{this.state.buffering=!1,this.state.waiting=!1}),this.mediaP.addEventListener("canplay",e=>{this.state.buffering=!1,this.state.waiting=!1}),this.mediaP.addEventListener("suspend",e=>{this.state.buffering=!1}),this.mediaP.addEventListener("abort",e=>{this.state.buffering=!1}),this.mediaP.addEventListener("stalled",e=>{this.state.buffering=!1})}mediaListen(e,t){return this.mediaP.addEventListener(e,t),this}createMedia(){return new Audio}get currentTime(){return this.mediaP.currentTime}get duration(){return this.mediaP.duration}get buffered(){return this.mediaP.buffered}setData(e){return this.data=e,this.newSource(e.file||e.src),new Promise((e,t)=>{e()})}play(e=this.currentTime){return this.seek(e),this.mediaP.play()}pause(){this.mediaP.pause()}seek(e){var t=this.sanitizeGetSeconds(e);this.mediaP.currentTime=t}setVolume(e){this.state.volume=e,e>1&&(e/=100),this.mediaP.volume=e}newSource(e){this.pause(),this.source=e,this.mediaP.src=e,this.mediaP.load(),this.state.waiting=!0}}r.prototype.defaults={},e.exports=r},function(e,t,n){"use strict";const i=n(3);class r extends i{constructor(){super(),this.state={paused:!1,playing:!1,reproducing:!1,buffering:!1,waiting:!1,ended:!1,volume:100}}get paused(){return this.state.paused}get playing(){return this.state.playing}get buffering(){return this.state.buffering}get reproducing(){return this.state.reproducing}get waiting(){return this.state.waiting}get ended(){return this.state.ended}get volume(){return this.state.volume}get remainingTime(){return this.duration-this.currentTime}get formattedDuration(){return r.secondsToStringRepresentation(this.duration)}get formattedCurrentTime(){return r.secondsToStringRepresentation(this.currentTime)}get formattedRemainingTime(){return r.secondsToStringRepresentation(this.remainingTime)}toggle(){this.playing?this.pause():this.play()}get currentPercentage(){var e,t;return e=Math.round(this.currentTime),t=Math.round(this.duration),isNaN(e)||isNaN(t)?0:0==e||0==t?0:e/t*100}get remainingPercentage(){return 100-this.currentPercentage}getTime(e){return Math.round(this.duration/100*e)}getFormattedTime(e){return r.secondsToStringRepresentation(this.getTime(seconds))}getPercentage(e){return("string"==typeof e&&e.indexOf(":")>=0?r.stringRepresentationToSeconds(e):parseFloat(e))/this.duration*100}sanitizeGetSeconds(e){var t;return t="string"==typeof e&&e.indexOf(":")>=0?r.stringRepresentationToSeconds(e):"string"==typeof e&&e.indexOf("%")>=0?this.getTime(parseInt(e)):"string"==typeof e?parseInt(e):e,isNaN(t)&&(t=0),t}log(e){console.log(e)}}r.secondsToStringRepresentation=function(e){return isNaN(e)?"00:00":(e=Math.round(e),a=(r=(r=(n=Math.floor(e/60))-60*(t=Math.floor(n/60)))<10?"0"+r:r)+":"+(s=(s=e-60*n)<10?"0"+s:s),a=(i=t)>0?i+":"+a:a);var t,n,i,r,s,a},r.stringRepresentationToSeconds=function(e){var t,n,i;return!((t=e.match(/[0-9]+/g)).length>3)&&(i=parseInt(t[t.length-1]),n=parseInt(t[t.length-2]||0),3600*parseInt(t[t.length-3]||0)+60*n+i)},e.exports=r},function(e,t,n){"use strict";const i=n(4);class r{constructor(){this.events={}}registerEvent(e){return this.events[e]=new i(e,this)}getEvent(e){return this.events[e]?this.events[e]:this.registerEvent(e)}addEventListener(e,t){return this.getEvent(e).addCallback(t),this}removeEventListener(e,t){return this.getEvent(e).removeCallback(t),this}dispatchEvent(e,t={}){this.getEvent(e).fire(t)}}r.arrayAddEventListener=function(e,t,n){for(var i of e)i.addEventListener(t,n)},e.exports=r},function(e,t,n){"use strict";e.exports=class{constructor(e,t){this.name=e,this.object=t,this.callbacks=[]}addCallback(e){this.callbacks.indexOf(e)>=0||this.callbacks.push(e)}removeCallback(e){if(this.callbacks.length){var t=this.callbacks.indexOf(e);t<0||delete this.callbacks[t]}}fire(e={}){if(this.callbacks.length)for(var t of this.callbacks)t.call(this.object,e)}}}]);